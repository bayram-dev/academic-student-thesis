% Вторая глава работы 
\chapter{Моделирование алгоритмов}
\label{chap2}

\section{Эталонная модель}
\label{chap2:sec1}

В рамках анализа алгоритмов была созданна эталонная модель, в рамках которой
будут проводиться тестирование. Описание моделируемой сети:

\begin{itemize}

        \item Сеть состоит из 10 TCP-источников и TCP-приемников, двух
                маршрутизаторов R1 и R2 между приемниками и источниками.

        \item Между TCP-источниками и первым маршрутизатором установлена
                задежрка в 20 мс.

        \item Между TCP-приемниками и вторым маршрутизатором также установлена
                задежрка в 20 мс.

        \item Между маршрутизаторами установлена задежрка в 15 мс. и очередью
                типа DropTail / RED / ARED (именно здесь и будет происходить
                сравнение изучаемых алгоритмов).

        \item Максимальный размер TCP-окна 32; размер передаваемого пакета 1000
                байт; время моделирования --- 20 секунд.

\end{itemize}

В связи с тем, что только два основных алгоритма активного управления очередью
(RED, ARED) реализованы в сетевом стеке ядра Linux --- они же и будут
рассматриваться для сравнения. Иные алгоритмы требуют внесения изменения в
модуль ядра.

Данную модель реализовать как в Mininet, так и в NS-2. Сравнение в разных
средствах моделирования представлено для понимания того, как модель себя будет
вести в идеальной среде (в рамках имитационного моделирования) и в реальной
среде (в рамках натурного моделирования). 

\section{Реализация в NS-2} % (fold)
\label{chap2:sec2}

Для реализации модели на NS-2 необходимо описать ее на языке TCL. Структура
модели описана связными моулями, которые реализую отдельные этапы. Этапы
моделирования:

\begin{itemize}
        \item инициализация узлов, соединение и установка настроек.
        \item настройка мониторинга и параметры для самого алгоритма (RED/ARED)
        \item составлние файлов для построения графиков графиков
        \item построение графиков.
\end{itemize}

Ключевым отличием между настройками парамтеров RED и ARED лишь в одной строчке,
которая включает сам ARED, (где параметр redq --- соединение, на котором
работаем AQM).

\begin{verbatim}
$redq set adaptive_ 1
\end{verbatim}

Также, для чистоты эксперимента будут использоваться TCP-агент Linux ---
имплементацию сетевого стека, применяемую в ядре Linux. Так как это лишь
имитационная модель, то и сам TCP-агент лишь копирует поведение, а не
полноценно использует модуль ядра.

Для отрисовки графиков используется GNUPlot, при помощи которого мы извлекаем
данные из файлов. Для этого был написан скрипт, который отрисовываает изменение
размера длины очереди, средней длины очереди и размера окна, как основные
показатели для сравнения.

В файле ~\ref{app3:1} импортируются основные модули, которые реализиуют необходимые для моделирования функционал.
В файле ~\ref{app3:2} инициализируются основные узлы нашей системы, описание которой представлено в разделе \ref{chap2:sec1}. В этом же файле мы и указываем какой алгоритм управления очередью мы используем: либо RED/ARED, либо DropTail (данный алгоритм используется лишь как показатель того, что алгоримы активного управления очередью показывают гораздо более оптимальную обработку очереди и задрежки в ней). 
В фалйе ~\ref{app3:3} уже описываются основные параметры алгоритмов урпавления очередью, а именно. 

\begin{itemize}
        \item СПИСОК НАСТРАИВАЕМЫХ ПАРАМЕТРОВ
\end{itemize}

% section Реализация в NS-2 (end)

\section{Реализация в Mininet} % (fold)
\label{chap2:sec3}

% section Реализация в Mininet (end)


%%

%%% Local Variables:
%%% mode: latex
%%% coding: utf-8-unix
%%% TeX-master: "../default"
%%% End:
